<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Phylogenies for a List of Finned-Ray Fishes • FishPhyloMaker</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Phylogenies for a List of Finned-Ray Fishes">
<meta property="og:description" content="Provides an alternative to facilitate the construction of a phylogeny for fish species from a list of species
   or a community matrix using as a backbone the phylogenetic tree proposed by Rabosky et al. (2018) &lt;doi:10.1038/s41586-018-0273-1&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">FishPhyloMaker</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/FishPhyloMaker_vignette.html">Using FishPhyloMaker to build phylogenies for finned-ray fishes</a>
    </li>
    <li>
      <a href="articles/mappingInsertions_vignette.html">How to map species insertions in phylogenetic tree?</a>
    </li>
    <li>
      <a href="articles/whichFishAdd_vignette.html">How to know which species must be added to phylogeny?</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<p><img src="reference/figures/Logo_FishPhyloMaker.png" alt="fish logo" width="200px" align="right"></p>
<div id="fishphylomaker" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#fishphylomaker" class="anchor"></a>FishPhyloMaker</h1></div>
<p><a href="https://cran.r-project.org/package=FishPhyloMaker"><img src="https://www.r-pkg.org/badges/version/FishPhyloMaker" alt="CRAN_Status_Badge"></a></p>
<p><a href="https://zenodo.org/badge/latestdoi/336899540"><img src="https://zenodo.org/badge/336899540.svg" alt="DOI"></a></p>
<p><a href="https://choosealicense.com/licenses/mit/"><img src="https://img.shields.io/github/license/mashape/apistatus.svg" alt="license"></a></p>
<p><code>{FishPhyloMaker}</code> is an R package that allows to construct synthesis phylogenies for finned-ray fishes. The package has two main functions, <code>FishTaxaMaker</code> and <code>FishPhyloMaker</code>. The first generate a data frame from fish species names provided by the user, checking the validity of these names and possible synonyms by using the information contained in <a href="http://www.fishbase.org">Fishbase database</a> through the package <a href="https://CRAN.R-project.org/package=rfishbase">rfishbase</a>. The output of <code><a href="reference/FishTaxaMaker.html">FishTaxaMaker()</a></code> function is a list containing the following objects:</p>
<ul>
<li><p><strong>All_info_fishbase</strong>: A data frame containing the taxonomic classification of valid species accordingly to Fishbase;</p></li>
<li>
<p><strong>Taxon_data_FishPhyloMaker</strong>: A data frame with three columns containing the valid scientific name of the species (s), its family</p>
<p>(f) and order (o). This data frame can be used in <code><a href="reference/FishPhyloMaker.html">FishPhyloMaker()</a></code> to generate the phylogeny;</p>
</li>
<li><p><strong>Species_not_in_Fishbase</strong>: A character vector containing the names of species that was not found in Fishbase with a valid name data frame object containing three columns with the name of species (s), the Family (f) and the Order (o) of all species provided by the user.</p></li>
</ul>
<p>Besides to help checking the validity of the names of species, its synonyms and duplicated species, the data frame returned by <code><a href="reference/FishTaxaMaker.html">FishTaxaMaker()</a></code> in <strong>Taxon_data_FishPhyoMaker</strong> are formatted so that it can be directly used in the core function <code><a href="reference/FishPhyloMaker.html">FishPhyloMaker()</a></code>. This function will use the information of the taxonomic hierarchy contained in the data frame returned from <code><a href="reference/FishTaxaMaker.html">FishTaxaMaker()</a></code>, joint with the information present in the the <a href="https://fishtreeoflife.org/">fishtree of life project</a> to construct the phylogenetic tree.</p>
<p>The paper describing the functionalities of FishPhyloMaker is now published in Ecological Informatics and can be assessed <a href="https://www.sciencedirect.com/science/article/pii/S1574954121002727">here</a>.</p>
</div>
<div id="download" class="section level1">
<h1 class="hasAnchor">
<a href="#download" class="anchor"></a>Download</h1>
<p>A stable version of FishPhyloMaker can be installed from CRAN</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"FishPhyloMaker"</span><span class="op">)</span></code></pre></div>
<p>To install the development version of this package the user must type:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"GabrielNakamura/FishPhyloMaker"</span>, ref <span class="op">=</span> <span class="st">"main"</span><span class="op">)</span></code></pre></div>
</div>
<div id="example" class="section level1">
<h1 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h1>
<p>To run an example the user can load a data set present in the package:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">FishPhyloMaker</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">neotropical_comm</span><span class="op">)</span>
<span class="va">data_comm</span> <span class="op">&lt;-</span> <span class="va">neotropical_comm</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="co"># removing latitude and longitude</span></code></pre></div>
<p>This data set comprises a community matrix with the occurrences of 59 fish species in headwater streams of Parana and Paraguai River Basins, in Brazil. The coordinates of these streams are presented in the two first columns of this data set.</p>
<p>First the user must obtain the data necessary to enter in <code>FishPhyloMaker</code> using <code>FishTaxaMaker</code> function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">taxon_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/FishTaxaMaker.html">FishTaxaMaker</a></span><span class="op">(</span><span class="va">data_comm</span>, allow.manual.insert <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">Characidae</span>
<span class="va">Characiformes</span>
<span class="va">Characidae</span>
<span class="va">Characiformes</span>
<span class="va">Characidae</span>
<span class="va">Characiformes</span>
<span class="va">Loricariidae</span>
<span class="va">Siluriformes</span>
<span class="va">Cichlidae</span>
<span class="va">Cichliformes</span>
<span class="va">Crenuchidae</span>
<span class="va">Characiformes</span>
<span class="va">Gymnotidae</span>
<span class="va">Gymnotiformes</span>
<span class="va">Loricariidae</span>
<span class="va">Siluriformes</span>
<span class="va">Loricariidae</span>
<span class="va">Siluriformes</span>
<span class="va">Loricariidae</span>
<span class="va">Siluriformes</span>
<span class="va">Loricariidae</span>
<span class="va">Siluriformes</span>
<span class="va">Heptapteridae</span>
<span class="va">Siluriformes</span>
<span class="va">Characidae</span>
<span class="va">Characiformes</span>
<span class="va">Loricariidae</span>
<span class="va">Siluriformes</span>
<span class="va">Characidae</span>
<span class="va">Characiformes</span></code></pre></div>
<p><code>FishTaxaMaker</code> finds in <a href="http://www.fishbase.org/search.php">Fishbase</a> for the family and the order of species provided in data argument. If any species was not find in Fishbase, the user will be asked to type the Family and the Order of this species manually. This function can also be useful to check possible misspelling errors in the name of species.</p>
<p>Finally run <code>FishPhyloMaker</code></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res_phylo</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/FishPhyloMaker.html">FishPhyloMaker</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">taxon_data</span><span class="op">$</span><span class="va">Taxon_data_FishPhyloMaker</span>,
                            insert.base.node <span class="op">=</span> <span class="cn">TRUE</span>, 
                            return.insertions <span class="op">=</span> <span class="cn">TRUE</span>, 
                            progress.bar <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>The species are inserted in a sequential procedure. Species with any family representatives will be printed in the console jointly with a list of Genus contained of its family contained in the three, so that the user must choose. The user have three options:</p>
<ol>
<li>Insert <strong>near to a specific Genus</strong>: the user must type the name of this Genus;</li>
<li>Insert <strong>between to Genus</strong>: the user must type the names of these two Genus separated by a white space;</li>
<li>Insert <strong>at the node that correspond to the Family</strong> of the species being inserted: the user must type the name of the Family.</li>
</ol>
<p>The output has two objects, a phylogenetic tree that can be directly plot with the following code:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">res_phylo</span><span class="op">$</span><span class="va">Phylogeny</span>, cex <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></code></pre></div>
<p>And a data frame indicating at which level the species was inserted (one of the six categories detailed above).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res_phylo</span><span class="op">$</span><span class="va">Insertions_data</span></code></pre></div>
<p>For more details and updates see <a href="https://gabrielnakamura.github.io/FishPhyloMaker/">FishPhyloMaker web page</a></p>
</div>
<div id="next-steps" class="section level1">
<h1 class="hasAnchor">
<a href="#next-steps" class="anchor"></a>Next steps</h1>
<ul>
<li>
<input type="checkbox" disabled checked>
CRAN release</li>
<li>
<input type="checkbox" disabled>
Implement user option to insert a taxonomic table and backbone phylogeny</li>
<li>
<input type="checkbox" disabled>
Incorporate butterfly phylogeny</li>
<li>
<input type="checkbox" disabled>
Automatic phylogeny plot</li>
</ul>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=FishPhyloMaker">https://​cloud.r-project.org/​package=FishPhyloMaker</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Gabriel Nakamura <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-5144-5312" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Aline Richter <br><small class="roles"> Author </small>  </li>
<li>Bruno Soares <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Gabriel Nakamura, Aline Richter, Bruno Soares.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
